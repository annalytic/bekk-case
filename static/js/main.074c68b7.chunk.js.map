{"version":3,"sources":["logo.svg","components/Travels/Travels.js","components/Results/Results.js","App.js","index.js"],"names":["Travels","id","handleEdit","useState","km","antall","data","setData","handleChange","e","value","target","name","data-id","className","type","min","max","placeholder","pattern","onChange","htmlFor","Results","result","resetKey","App","arbeidsreiser","setArbeidsreiser","besoeksreiser","setBesoeksreiser","utgifter","setUtgifter","loading","setLoading","error","setError","setResult","reset","setReset","invalidAntall","setInvalidAntall","handleEditAR","obj","newArbeidsreiser","handleEditBR","newBesoeksreiser","src","logo","alt","onSubmit","preventDefault","filteredArbeidsreiser","filter","Object","keys","length","filteredBesoeksreiser","invalidArbeidsreiser","some","values","every","invalidBesoeksreiser","console","log","fetch","method","headers","body","JSON","stringify","then","res","json","reisefradrag","catch","map","arbeidsreise","onClick","besoeksreise","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.074c68b7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.35b85e4b.svg\";","import React, { useState } from 'react';\n\nfunction Travels( { id, handleEdit } ) {\n\t/**\n\t* States\n\t*/\n\tconst [ data, setData ] = useState( { km: '', antall: '' } );\n\n\t/* ------------------------------ */\n\n\t/**\n\t* Functions\n\t*/\n\t/* Handles when user types in input fields. */\n\tconst handleChange = ( e ) => {\n\t\tlet value = e.target.value;\n\t\tlet name = e.target.name;\n\n\t\tsetData( { ...data, [name]: value } );\n\t\thandleEdit( id, { ...data, [name]: value } );\n\t}\n\n\t/* ------------------------------ */\n\n\t/**\n\t* Render\n\t*/\n\treturn (\n\t\t<li data-id={ id }>\n\t\t\t<div className=\"field-group floating-label\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tname=\"km\"\n\t\t\t\t\tmin=\"0\"\n\t\t\t\t\tmax=\"75000\"\n\t\t\t\t\tplaceholder=\"Km\"\n\t\t\t\t\tpattern=\"[0-9]*\"\n\t\t\t\t\tvalue={ data.km }\n\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t/>\n\t\t\t\t<label htmlFor=\"km\">Km</label>\n\t\t\t</div>\n\n\t\t\t<div className=\"field-group floating-label\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tname=\"antall\"\n\t\t\t\t\tmin=\"0\"\n\t\t\t\t\tplaceholder=\"Antall\"\n\t\t\t\t\tpattern=\"[0-9]*\"\n\t\t\t\t\tvalue={ data.antall }\n\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t/>\n\t\t\t\t<label htmlFor=\"antall\">Antall</label>\n\t\t\t</div>\n\t\t</li>\n\t);\n}\n\nexport default Travels;\n","function Results( { result } ) {\n\tif ( result === null ) {\n\t\treturn (\n\t\t\t<div className=\"info\">\n\t\t\t\t<h3>Noe gikk galt</h3>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<div className=\"info\">\n\t\t\t\t<h3>Ditt reisefradrag:</h3>\n\t\t\t\t<span className=\"number\">{ result } kr</span>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Results;\n","/**\n* External dependencies\n*/\nimport React, { useState } from 'react';\n\n/**\n* Internal dependencies\n*/\nimport logo from './logo.svg';\nimport Travels from './components/Travels/Travels';\nimport Results from './components/Results/Results';\n\nlet resetKey = 0;\n\nfunction App() {\n  /**\n  * States\n  */\n  const [ arbeidsreiser, setArbeidsreiser ] = useState([{}]);\n  const [ besoeksreiser, setBesoeksreiser ] = useState([{}]);\n  const [ utgifter, setUtgifter ] = useState('');\n\n  const [ loading, setLoading ] = useState(false);\n  const [ error, setError ] = useState(false);\n  const [ result, setResult ] = useState(null);\n  const [ reset, setReset ] = useState(false);\n  const [ invalidAntall, setInvalidAntall ] = useState(false);\n\n  /* ------------------------------ */\n\n  /**\n  * Functions\n  */\n  const handleEditAR = ( id, obj ) => {\n    const newArbeidsreiser = [...arbeidsreiser];\n    newArbeidsreiser[id] = obj;\n    setArbeidsreiser(newArbeidsreiser);\n  }\n\n  const handleAddAR = () => {\n    const newArbeidsreiser = [...arbeidsreiser, {}];\n    setArbeidsreiser(newArbeidsreiser);\n  }\n\n  const handleEditBR = ( id, obj ) => {\n    const newBesoeksreiser = [...besoeksreiser];\n    newBesoeksreiser[id] = obj;\n    setBesoeksreiser(newBesoeksreiser);\n  }\n\n  const handleAddBR = () => {\n    const newBesoeksreiser = [...besoeksreiser, {}];\n    setBesoeksreiser(newBesoeksreiser);\n  }\n\n  const handleReset = () => {\n    resetKey+=1;\n    setArbeidsreiser([{}]);\n    setBesoeksreiser([{}]);\n    setUtgifter('');\n    setReset(true);\n  }\n\n  const handleSubmit = ( e ) => {\n    e.preventDefault();\n    setReset(false);\n\n    /* Filters out non-empty objects. */\n    const filteredArbeidsreiser = arbeidsreiser.filter( value => Object.keys(value).length !== 0 );\n    const filteredBesoeksreiser = besoeksreiser.filter( value => Object.keys(value).length !== 0 );\n\n    /* Make sure that if one input field has value, the other one has too. */\n    const invalidArbeidsreiser = filteredArbeidsreiser.some( obj => {\n        return ! Object.values(obj).every( value => value );\n    });\n\n    const invalidBesoeksreiser = filteredBesoeksreiser.some( obj => {\n        return ! Object.values(obj).every( value => value );\n    });\n\n    if ( invalidArbeidsreiser || invalidBesoeksreiser ) {\n      setInvalidAntall(true);\n    } else {\n      setInvalidAntall(false);\n    }\n\n    console.log(invalidArbeidsreiser, invalidBesoeksreiser);\n\n    /* Constructs data to post to API. */\n    const data = {\n      'arbeidsreiser': filteredArbeidsreiser,\n      'besoeksreiser': filteredBesoeksreiser,\n      'utgifterBomFergeEtc': utgifter\n    }\n\n    console.log(data);\n\n    const url = 'https://9f22opit6e.execute-api.us-east-2.amazonaws.com/default/reisefradrag';\n\n    if ( ! invalidArbeidsreiser && ! invalidBesoeksreiser ) {\n      setLoading( true );\n\n      /* Posts data to API and handles response. */\n      fetch( url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify( data ),\n      } )\n        .then( ( res ) => res.json() )\n        .then( ( res ) => {\n          setLoading( false );\n          setResult( res.reisefradrag );\n        } )\n        .catch( ( error ) => {\n          console.error( 'Error', error );\n          setError( true );\n          setLoading( false );\n        });\n    }\n  }\n\n  /* ------------------------------ */\n\n  /**\n  * Render\n  */\n  return (\n    <div className=\"App\">\n      <header>\n        <img src={logo} className=\"logo\" alt=\"logo\" />\n        <div>\n          <h1>Reiseregning</h1>\n          <p>Beregning av reisefradrag</p>\n          <p>Test test githubpages!</p>\n        </div>\n      </header>\n\n      <main>\n        { ( ! reset && ! loading && result >= 0 && result !== null ) && (\n          <Results result={ result } />\n        ) }\n\n        { ( ! reset && error ) && (\n          <div className=\"info\">\n            <h3>Noe gikk galt</h3>\n            <p>Prøv igjen senere eller ta kontakt med oss.</p>\n          </div>\n        ) }\n\n        <form onSubmit={ handleSubmit }>\n          <h2>Arbeidsreiser</h2>\n          <ul className=\"reiser arbeidsreiser unstyled-list\">\n            { arbeidsreiser.map( ( arbeidsreise, id ) => {\n              return (\n                <Travels key={ `${resetKey}-${id}` } id={ id } handleEdit={ handleEditAR } />\n              );\n            } )}\n          </ul>\n\n          <button\n            type=\"button\"\n            onClick={ handleAddAR }\n          >\n            Legg til arbeidsreise\n          </button>\n\n          <h2>Besøksreiser</h2>\n          <ul className=\"reiser besoeksreiser unstyled-list\">\n            { besoeksreiser.map( ( besoeksreise, id ) => {\n              return (\n                <Travels key={ `${resetKey}-${id}` } id={ id } handleEdit={ handleEditBR } />\n              );\n            } )}\n          </ul>\n\n          <button\n            type=\"button\"\n            onClick={ handleAddBR }\n          >\n            Legg til besøksreise\n          </button>\n\n          <h2>Utgifter</h2>\n          <div className=\"field-group floating-label\">\n            <input\n              type=\"number\"\n              name=\"utgifter\"\n              min=\"0\"\n              placeholder=\"0\"\n              pattern=\"[0-9]*\"\n              value={ utgifter }\n              onChange={ ( e ) => setUtgifter( e.target.value )}\n            />\n            <label htmlFor=\"utgifter\">Utgifter</label>\n          </div>\n\n          { ! loading && <input type=\"submit\" value=\"Beregn\" /> }\n\n          { loading && <div className=\"loader\"></div> }\n\n          { ! reset && invalidAntall && <p className=\"error-invalid-antall\">Fyll inn begge felt.</p>}\n\n          <hr />\n\n          <button\n            type=\"button\"\n            onClick={ handleReset }\n            className=\"reset\"\n          >\n            Begynn på nytt\n          </button>\n        </form>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}